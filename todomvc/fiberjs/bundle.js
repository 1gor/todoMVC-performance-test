!function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}var installedModules={};__webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{configurable:!1,enumerable:!0,get:getter})},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=4)}([function(module,exports,__webpack_require__){!function(e,t){module.exports=t()}(0,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=10)}([function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.EventGateway=function(){function e(){r(this,e)}return o(e,[{key:"trigger",value:function(e){var t=this;return new Promise(function(n,r){setTimeout(function(){return n(t.triggerSync(e))},0)})}},{key:"triggerSync",value:function(e){return this.element.dispatchEvent(e.event())}},{key:"listen",value:function(){for(var e=0;e<arguments.length;e+=2)this.addEventListener(arguments.length<=e?void 0:arguments[e],arguments.length<=e+1?void 0:arguments[e+1])}},{key:"addEventListener",value:function(t,n){var r=this,o=void 0,i=[];return"string"==typeof t?(o=n,t.trim().split(/\s/).forEach(function(e){i.push(e),r.element.addEventListener(e,o)})):!(t instanceof Event)&&t.namespace instanceof e?(o=function(e){return n(e.detail)},t.namespace.element.addEventListener(t.event.EventName,o),i.push(t.EventName)):(o=function(e){return n(e.detail)},this.element.addEventListener(t.EventName,o),i.push(t.EventName)),{callback:o,events:i}}}],[{key:"forElement",value:function(e,t){var n=new this;return n.name=t&&t.constructor.name,n.element=e,n}},{key:"forComponent",value:function(e){var t=new this;return t.name=e.constructor.name,t.element=e.view,t}}]),e}()},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){var t=e.split("/").slice(1),n=h,r=t.pop(),o=!0,i=!1,a=void 0;try{for(var u,c=t[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var l=u.value;if(!n.children[l])return!1;n=n.children[l]}}catch(e){i=!0,a=e}finally{try{!o&&c.return&&c.return()}finally{if(i)throw a}}return n.children[r]&&delete n.children[r],!0}Object.defineProperty(t,"__esModule",{value:!0}),t.NameSpace=t.DefinedEvent=void 0;var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.getNameSpaceByPath=function(e){var t=e.split("/").slice(1),n="data",r=h,o=!0,i=!1,a=void 0;try{for(var u,c=t[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var l=u.value;if(n+="/"+l,!r.children[l]){var f=new y(l,n);r.children[l]=f,r.element.appendChild(f.element)}r=r.children[l]}}catch(e){i=!0,a=e}finally{try{!o&&c.return&&c.return()}finally{if(i)throw a}}return r},t.detachEventGateway=u;var l=n(4),f=n(0),p=function(e){return e&&e.__esModule?e:{default:e}}(n(5)),v=t.DefinedEvent=(0,l.basicEvent)("Fiber:NameSpace:Defined"),y=t.NameSpace=function(e){function t(e,n){r(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return i.name=e,i.path=n,i.element=i.createElement(e),i.children={},i}return i(t,f.EventGateway),c(t,[{key:"detach",value:function(){delete this.element,u(this.path)}},{key:"createElement",value:function(e){var t=document.createElement(function(e){return"#"==e[0]?"item":e.toLowerCase().replace(/[^a-z0-9]/g,"")}(e));return t.id=function(e){return e.replace(/[^A-Za-z0-9\/]/g,"").replace(/[\/]/g,"-")}(e),t}},{key:"defineState",value:function(e){var t=this;this.__state||(this.__state=new p.default),this.state=this.__state.reader,Object.getOwnPropertyNames(e).forEach(function(n){t.__state.addProperty(n);for(var r=e[n](t.__state.modifier),o=0;o<r.length;o+=2)t.addEventListener(r[o],r[o+1])}),this.trigger(new v)}}]),t}(),h=new y("data")},function(e,t,n){"use strict";function r(e){return"string"==typeof e?e:e.EventName}function o(){return(++a).toString()}Object.defineProperty(t,"__esModule",{value:!0});var i={components:new Map,listeners:new Map,observers:new Map,elementAttribute:"fiber-component-id"};i.init=function(){this.observe(document.body),this.init=!1},i.observe=function(e){var t=this,n=(this.observers.size+1).toString();if(!e._GC_observerId){e._GC_observerId=n;var r=new MutationObserver(function(e){e.forEach(function(e){e.removedNodes&&e.removedNodes.forEach(function(e){t.removeNode(e)})})});r.observe(e,{childList:!0,subtree:!0}),this.observers.set(n,{element:e,observer:r})}},i.removeNode=function(e){var t=this;if(e.querySelectorAll&&!e._GC_observerId){var n=function(e){var n=e.attributes[t.elementAttribute].value,r=t.components.get(n);r&&t.destroy(r)};e.querySelectorAll("["+this.elementAttribute+"]").forEach(n),e.attributes[this.elementAttribute]&&n(e)}},i.registerComponent=function(e){e.componentId=o(),this.components.set(e.componentId,e),this.listeners.set(e.componentId,[]),e.view.setAttribute(this.elementAttribute,e.componentId),i.init&&i.init()},i.registerListener=function(e,t,n,o){this.listeners.has(e.componentId)&&this.listeners.get(e.componentId).push({element:t,eventName:r(n),callback:o})},i.destroy=function(e){var t=!0,n=!1,r=void 0;try{for(var o,i=this.listeners.get(e.componentId)[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;a.element.removeEventListener(a.eventName,a.callback)}}catch(e){n=!0,r=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}e.view=null,this.components.delete(e.componentId),this.listeners.delete(e.componentId)},t.default=i;var a=0},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),a=n(1),u=n(7),c=function(){function e(){r(this,e);for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];this.init.apply(this,n)}return o(e,[{key:"init",value:function(){}},{key:"listen",value:function(){}},{key:"on",value:function(e){return e instanceof u.EventFlowType?this.flow(e):e instanceof i.EventGateway||e instanceof u.EventFlow?e:(0,a.getNameSpaceByPath)(e)}},{key:"flow",value:function(e){return new u.EventFlow(e)}}]),e}();t.default=c},function(e,t,n){"use strict";function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e){return function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),t}(e).alias("Event"+ ++h)}Object.defineProperty(t,"__esModule",{value:!0}),t.Event=void 0;var f=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.defineEventType=function(e){var t=Object.getOwnPropertyNames(e);return function(n){function a(){i(this,a);for(var n=r(this,(a.__proto__||Object.getPrototypeOf(a)).call(this)),o=new v.default(n),u=arguments.length,c=Array(u),l=0;l<u;l++)c[l]=arguments[l];for(var s=0;s<c.length;s++){var p=t[s];if(void 0===p||void 0===e[p])throw new m(n,p,c[s]);var h=y.Optional.from(e[p]),d=f(h,2),b=d[0],w=d[1];if(o.addProperty(p),!b||void 0!==c[s]&&null!==c[s])if("Mixed"===w.name)o.modifier[p]=c[s];else if(w==Number||w==String||w==Boolean)o.modifier[p]=new w(c[s]).valueOf();else{if(w instanceof Object&&!(c[s]instanceof w))throw new m(n,p,c[s],w);o.modifier[p]=c[s]}else o.modifier[p]=c[s]}return n}return o(a,d),a}()},t.eventOfType=u,t.basicEvent=function(e){return function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,d),t}().alias(e||"Event"+ ++h)},t.defineEvent=function(e,t){return u(e).alias(t)};var v=function(e){return e&&e.__esModule?e:{default:e}}(n(5)),y=n(12),h=0,d=function(){function e(){i(this,e),this.name=this.constructor.EventName}return s(e,[{key:"event",value:function(){return this.originalEvent||(this.originalEvent=new CustomEvent(this.name,{detail:this,bubbles:!this.constructor._cancelBubble,cancelable:!0})),this.originalEvent}},{key:"stopPropagation",value:function(){this.originalEvent&&this.originalEvent.stopPropagation()}},{key:"preventDefault",value:function(){this.originalEvent&&this.originalEvent.preventDefault()}}],[{key:"bubbles",value:function(e){return this._cancelBubble=!e,this}},{key:"alias",value:function(e){return this.EventName=e,this}},{key:"on",value:function(e){return{namespace:e,event:this}}}]),e}();t.Event=d;var m=function(e){function t(e,n,o,a){if(i(this,t),a)u=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"Type mismatch for Event '"+e.name+"' for attribute '"+n+"'"));else var u=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"Unexpected parameter for Event '"+e.name+"'"));return u.event=e,u.name=n,u.value=o,u.type=a,r(u)}return o(t,Error),t}()},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e){return e instanceof Object?new Proxy(e,{get:function(e,t){return o(e[t])},set:function(){return!0}}):e}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.readOnly=o;var u=function(e){return e&&e.__esModule?e:{default:e}}(n(6)),c=function(){function e(t){r(this,e),this.reader=t||{},this.modifier={}}return i(e,[{key:"addProperty",value:function(e){var t=this;this.modifier[e]=null,Object.defineProperty(this.reader,e,{get:function(){return(0,u.default)(t.modifier[e])},enumerable:!0})}}]),e}();t.default=c},function(e,t,n){"use strict";function r(e){if(!(e instanceof Object)||e instanceof Function)return e;if(e instanceof Array)return e.map(function(e){return r(e)});if(e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp||e instanceof Boolean)return new e.constructor(e);if(e.clone instanceof Function)return e.clone();var t={},n=!0,o=!1,i=void 0;try{for(var a,u=Object.getOwnPropertyNames(e)[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var c=a.value;t[c]=r(e[c])}}catch(e){o=!0,i=e}finally{try{!n&&u.return&&u.return()}finally{if(o)throw i}}return t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.EventFlow=t.EventFlowType=void 0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=(n(4),n(0));t.EventFlowType=function e(){r(this,e);for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];this.steps=n,n.forEach(function(e){if(!(e.namespace instanceof i.EventGateway&&e.event.EventName))throw new Error("wrong argument for Flow step!")})},t.EventFlow=function(){function e(t){var n=this;r(this,e),this.steps=t.steps,this.currentEvent=null,this.currentNameSpace=null,this.promise=new Promise(function(e,t){n.resolve=e,n.reject=t})}return o(e,[{key:"trigger",value:function(e){var t=this.steps.shift();return t||this.reject(e),!e instanceof t.event&&this.reject(e),this.currentEvent=e,this.currentNameSpace=t.namespace,e.flow=this,this.currentNameSpace.trigger(e),this.steps.length||this.resolve(this),this.promise}},{key:"listen",value:function(){throw new Error("You can't set listeners on an EventFlow! (yet?)")}}]),e}()},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},f=r(n(3)),s=n(0),v=r((n(1),n(9))),h=r(n(2)),d=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,f.default),u(t,[{key:"render",value:function(){return this.constructor.template&&(this.view=v.default.render(this.constructor.template)),this.listen(),this.view}},{key:"getNameSpaceByPath",value:function(){return this.EventGateway||(this.EventGateway=s.EventGateway.forComponent(this))}},{key:"on",value:function(e){return(e=c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"on",this).call(this,e))instanceof s.EventGateway?new m(this,e):e}},{key:"ui",value:function(e){var t=v.default.getElement(e||this.view,this.view);return t?new m(this,s.EventGateway.forElement(t,this)):null}},{key:"view",get:function(){return this._view},set:function(e){this._view=e,this.getNameSpaceByPath().element=e,e&&h.default.registerComponent(this)}},{key:"namespace",get:function(){return this.getNameSpaceByPath()}}],[{key:"elementName",value:function(){return this.name.replace("Component","").replace(/[A-Z]/g,"-$&").toLowerCase().substr(1)}},{key:"withTemplate",value:function(e){return function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,null,[{key:"__setTemplate",value:function(e){return this.template=e,this}}]),t}(this).__setTemplate(e)}},{key:"attachTo",value:function(e){e=v.default.getElement(e);for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=new(Function.prototype.bind.apply(this,[null].concat(n)));o._attached=!0;var i=this.template?v.default.render(this.template):null;return i?i.tagName==e.tagName?(e.replaceWith(i),o.view=i):(o.view=e,o.view.append(i)):o.view=e,o.listen(),o}},{key:"populate",value:function(e){var t=this;if(!e instanceof Element)return!1;var n=e.querySelectorAll(this.elementName());return e.tagName.toLowerCase()==this.elementName()&&(n=[e]),n.forEach(function(e){t.attachTo(e)}),n}}]),t}(),m=function(){function e(t,n){o(this,e),this.component=t,this.EventGateway=n}return u(e,[{key:"listen",value:function(){for(var e=this,t=arguments,n=0;n<arguments.length;n+=2)!function(n){var r=e.EventGateway.addEventListener(t.length<=n?void 0:t[n],t.length<=n+1?void 0:t[n+1]);r.events.forEach(function(t){return h.default.registerListener(e.component,e.EventGateway.element,t,r.callback)})}(n)}},{key:"trigger",value:function(e){return this.EventGateway.trigger(e)}},{key:"triggerSync",value:function(e){return this.EventGateway.triggerSync(e)}}]),e}();t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){return e&&e.__esModule?e:{default:e}}(n(2)),i={};i.getElement=function(e,t){return"string"==typeof e?(t||document).querySelector(e):e},i.render=function(e,t){if(e instanceof Element)return e;var n=document.createElement(t||"div");return n.innerHTML=e,t||1!=n.childElementCount?n:n.firstElementChild},i.renderWithComponents=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e=i.render(e);var o=!0,a=!1,u=void 0;try{for(var c,l=n[Symbol.iterator]();!(o=(c=l.next()).done);o=!0)c.value.populate(e)}catch(e){a=!0,u=e}finally{try{!o&&l.return&&l.return()}finally{if(a)throw u}}return e},i.detach=function(e){o.default.observe(e),e.remove()},t.default=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(2)),u=r(n(11)),l=r(n(8)),f=n(1),s=n(4),p=n(7),y=r(n(6)),d=r(n(9)),b=r(n(13)),w={};w.GC=i.default,w.DataComponent=u.default,w.UIComponent=l.default,w.namespace=f.getNameSpaceByPath,w.NameSpace={create:f.getNameSpaceByPath,Defined:f.DefinedEvent},w.Event=s.Event,w.defineEvent=s.defineEvent,w.defineEventType=s.defineEventType,w.basicEvent=s.basicEvent,w.EventFlow={define:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return new(Function.prototype.bind.apply(p.EventFlowType,[null].concat(t)))}},w.clone=y.default,w.DOM=d.default,w.Debugger=b.default,w.System=(0,f.getNameSpaceByPath)("data/system"),w.System.Ready=(0,s.basicEvent)("System:Ready");var g=w.DataComponent.attachTo(w.System);w.app=function(e){e(),g.on(w.System).trigger(new w.System.Ready)},t.default=w},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function(e){return e&&e.__esModule?e:{default:e}}(n(3)),l=n(0),f=n(1),s=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,c.default),a(t,[{key:"namespace",get:function(){return this.EventGateway}}],[{key:"attachTo",value:function(e){var t=new this;return t.EventGateway=e instanceof l.EventGateway?e:(0,f.getNameSpaceByPath)(e),t.listen(),t}}]),t}();t.default=s},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),(t.Optional=function(e){return{$isOptional:!0,value:e}}).from=function(e){return e.$isOptional?[!0,e.value]:[!1,e]},t.Mixed=function e(){r(this,e)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e.name)return e.name;try{return e.toString().match(/_this[0-9][.]([^(]*)[(]/).pop()}catch(e){return"[inline method]"}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(3)),c=r(n(8)),l=n(0),f={},s=null,p="font-weight: bold; color: black;",v="font-weight: normal; color: red;",y="font-weight: normal;";f.init=function(){a.default.prototype.$$on=a.default.prototype.on,a.default.prototype.on=function(e){return s=this,this.$$on(e)},c.default.prototype.$$ui=c.default.prototype.ui,c.default.prototype.ui=function(e){return s=this,this.$$ui(e)},a.default.prototype.$$flow=a.default.prototype.flow,a.default.prototype.flow=function(e){return s=this,this.$$flow(e)},l.EventGateway.prototype.$$triggerSync=l.EventGateway.prototype.triggerSync,l.EventGateway.prototype.triggerSync=function(e){var t=this.name&&"data/"+this.name||"DOM",n=s.constructor.name;return 1==n.length&&(n="FiberJS"),console.log(" %c"+e.name+" %ctriggered on %c"+t+"%c by %c"+n,"font-weight: bold; color: navy;",y,p,y,p),f.showEvents&&console.log(e),this.$$triggerSync(e)},l.EventGateway.prototype.$$addEventListener=l.EventGateway.prototype.addEventListener,l.EventGateway.prototype.addEventListener=function(e,t){var n="string"==typeof e,r=n?e:e.EventName,i=s.constructor.name,a=s.view;return this.$$addEventListener(e,function(e){return n?console.log(" %c"+r.replace(" ","/")+"%c was triggered on "+i,"font-weight: bold; color: navy;",y):a&&f.showView?console.log(" "+i+" listening for %c"+r,a,v):console.log(" %c"+i+"%c listening for %c"+r,"font-weight: bold; color: #2D602D;",y,v),console.log(" %c"+o(t)+"%c is called by "+i,"font-weight: bold; color: #d9534f;",y),t(e)})}},t.default=f}])})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _fiber2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__(0)),NameSpace={System:_fiber2.default.namespace("data/system"),Todo:_fiber2.default.namespace("data/todo")};exports.default=NameSpace},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _todo2=_interopRequireDefault(__webpack_require__(6)),_todoList2=_interopRequireDefault(__webpack_require__(7)),Events={};Events.Todo=_todo2.default,Events.TodoList=_todoList2.default,exports.default=Events},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),Todo=function(){function Todo(properties){_classCallCheck(this,Todo),this.id=properties.id,this.title=properties.title,this.state=properties.state||Todo.Active}return _createClass(Todo,[{key:"clone",value:function(){return new Todo(this)}},{key:"completed",get:function(){return this.state==Todo.Completed}}]),Todo}();Todo.Active="active",Todo.Completed="completed",exports.default=Todo},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _fiber2=_interopRequireDefault(__webpack_require__(0)),_namespace2=_interopRequireDefault(__webpack_require__(1)),_todo2=_interopRequireDefault(__webpack_require__(5)),_todoList2=_interopRequireDefault(__webpack_require__(9)),_newTodo2=_interopRequireDefault(__webpack_require__(14)),_todoToolbar2=_interopRequireDefault(__webpack_require__(15));_fiber2.default.app(function(){_todo2.default.attachTo(_namespace2.default.Todo),_newTodo2.default.attachTo("#new-todo"),_todoList2.default.attachTo("#todo-list"),_todoToolbar2.default.attachTo("#footer")}),window.Fiber=_fiber2.default},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_fiber2=_interopRequireDefault(__webpack_require__(0)),_namespace2=_interopRequireDefault(__webpack_require__(1)),_events2=_interopRequireDefault(__webpack_require__(2)),_todo2=_interopRequireDefault(__webpack_require__(3)),TodoComponent=function(_Fiber$DataComponent){function TodoComponent(){return _classCallCheck(this,TodoComponent),_possibleConstructorReturn(this,(TodoComponent.__proto__||Object.getPrototypeOf(TodoComponent)).apply(this,arguments))}return _inherits(TodoComponent,_fiber2.default.DataComponent),_createClass(TodoComponent,[{key:"init",value:function(){this.todos=new Map,this._id=0}},{key:"listen",value:function(){var _this2=this;this.on(_namespace2.default.Todo).listen(_events2.default.Todo.Add,function(event){return _this2.add(event.title)},_events2.default.Todo.Update,function(event){return _this2.update(event.todo)},_events2.default.Todo.Remove,function(event){return _this2.remove(event.todo)},_events2.default.TodoList.Request,function(event){return _this2.prepareList(event)})}},{key:"add",value:function(title){var item=new _todo2.default({title:title,id:++this._id});this.todos.set(item.id,item),this.on(_namespace2.default.Todo).triggerSync(new _events2.default.Todo.Added(item)),this.on(_namespace2.default.Todo).triggerSync(new _events2.default.TodoList.ActiveCount(this.activeCount()))}},{key:"update",value:function(todo){var item=new _todo2.default(todo);this.todos.set(item.id,item);var UpdateEvent=_events2.default.Todo.Updated(item.id);this.on(_namespace2.default.Todo).triggerSync(new UpdateEvent(item)),this.on(_namespace2.default.Todo).triggerSync(new _events2.default.TodoList.ActiveCount(this.activeCount()))}},{key:"remove",value:function(todo){var item=new _todo2.default(todo);this.todos.delete(todo.id),this.on(_namespace2.default.Todo).triggerSync(new _events2.default.Todo.Removed(item)),this.on(_namespace2.default.Todo).triggerSync(new _events2.default.TodoList.ActiveCount(this.activeCount()))}},{key:"prepareList",value:function(requestEvent){var list=[],_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=this.todos.entries()[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var _step$value=_slicedToArray(_step.value,2),todo=(_step$value[0],_step$value[1]);requestEvent.state&&todo.state!=requestEvent.state||list.push(new _todo2.default(todo))}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}this.on(_namespace2.default.Todo).triggerSync(new _events2.default.TodoList.Ready(list))}},{key:"activeCount",value:function(){var activeCount=0,_iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _step2,_iterator2=this.todos.entries()[Symbol.iterator]();!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0){var _step2$value=_slicedToArray(_step2.value,2);_step2$value[0];_step2$value[1].state==_todo2.default.Active&&++activeCount}}catch(err){_didIteratorError2=!0,_iteratorError2=err}finally{try{!_iteratorNormalCompletion2&&_iterator2.return&&_iterator2.return()}finally{if(_didIteratorError2)throw _iteratorError2}}return activeCount}}]),TodoComponent}();exports.default=TodoComponent},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _fiber2=_interopRequireDefault(__webpack_require__(0)),_todo2=_interopRequireDefault(__webpack_require__(3)),TodoEvent=_fiber2.default.defineEventType({todo:_todo2.default}),AddTodo=_fiber2.default.defineEventType({title:String}),TodoEvents={};TodoEvents.Add=_fiber2.default.defineEvent(AddTodo,"Todo:Add"),TodoEvents.Added=_fiber2.default.defineEvent(TodoEvent,"Todo:Added"),TodoEvents.Update=_fiber2.default.defineEvent(TodoEvent,"Todo:Update"),TodoEvents.Updated=function(id){return _fiber2.default.defineEvent(TodoEvent,"Todo:"+id+":Updated")},TodoEvents.Remove=_fiber2.default.defineEvent(TodoEvent,"Todo:Remove"),TodoEvents.Removed=_fiber2.default.defineEvent(TodoEvent,"Todo:Removed"),exports.default=TodoEvents},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _fiber2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__(0)),_domain=__webpack_require__(8),TodoList=_fiber2.default.defineEventType({todos:Array}),TodoListRequest=_fiber2.default.defineEventType({state:(0,_domain.Optional)(String)}),ActiveCount=_fiber2.default.defineEventType({activeCount:Number});TodoList.Filter=_fiber2.default.defineEvent(TodoListRequest,"TodoList:Filter"),TodoList.Request=_fiber2.default.defineEvent(TodoListRequest,"TodoList:Request"),TodoList.Ready=_fiber2.default.defineEvent(TodoList,"TodoList:Ready"),TodoList.ActiveCount=_fiber2.default.defineEvent(ActiveCount,"TodoList:ActiveCount"),exports.default=TodoList},function(module,exports,__webpack_require__){!function(root,factory){module.exports=factory()}(0,function(){return function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{configurable:!1,enumerable:!0,get:getter})},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=0)}([function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),(exports.Optional=function(value){return{$isOptional:!0,value:value}}).from=function(obj){return obj.$isOptional?[!0,obj.value]:[!1,obj]};exports.Mixed=function Mixed(){_classCallCheck(this,Mixed)}}])})},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_fiber2=_interopRequireDefault(__webpack_require__(0)),_namespace2=_interopRequireDefault(__webpack_require__(1)),_events2=_interopRequireDefault(__webpack_require__(2)),_todoItem2=_interopRequireDefault(__webpack_require__(10)),TodoListComponent=function(_Fiber$UIComponent){function TodoListComponent(){return _classCallCheck(this,TodoListComponent),_possibleConstructorReturn(this,(TodoListComponent.__proto__||Object.getPrototypeOf(TodoListComponent)).apply(this,arguments))}return _inherits(TodoListComponent,_fiber2.default.UIComponent),_createClass(TodoListComponent,[{key:"listen",value:function(){var _this2=this;this.on(_namespace2.default.Todo).listen(_events2.default.Todo.Added,function(event){return _this2.addTodo(event.todo)},_events2.default.Todo.Removed,function(event){return _this2.removeTodo(event.todo)},_events2.default.TodoList.Ready,function(event){return _this2.showTodoList(event.todos)})}},{key:"addTodo",value:function(todo){var todoComponent=new _todoItem2.default(todo),newItem=document.createElement("li");newItem.id="todo-"+todo.id,newItem.appendChild(todoComponent.render()),this.view.appendChild(newItem)}},{key:"removeTodo",value:function(todo){this.view.querySelector("#todo-"+todo.id).remove()}},{key:"clearTodos",value:function(){this.view.innerHTML=""}},{key:"showTodoList",value:function(todos){this.clearTodos();var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=todos[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var todo=_step.value;this.addTodo(todo)}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}}}]),TodoListComponent}();exports.default=TodoListComponent},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_fiber2=_interopRequireDefault(__webpack_require__(0)),_todo2=_interopRequireDefault(__webpack_require__(3)),_namespace2=_interopRequireDefault(__webpack_require__(1)),_events2=_interopRequireDefault(__webpack_require__(2)),_template2=_interopRequireDefault(__webpack_require__(11)),_todo4=_interopRequireDefault(__webpack_require__(12)),todoTemplate=_interopRequireDefault(__webpack_require__(13)).default.template(_template2.default,_todo4.default),TodoItemComponent=function(_Fiber$UIComponent){function TodoItemComponent(){return _classCallCheck(this,TodoItemComponent),_possibleConstructorReturn(this,(TodoItemComponent.__proto__||Object.getPrototypeOf(TodoItemComponent)).apply(this,arguments))}return _inherits(TodoItemComponent,_fiber2.default.UIComponent),_createClass(TodoItemComponent,[{key:"init",value:function(todo){this.todo=todo,this.view=todoTemplate.render(this.todo)}},{key:"listen",value:function(){var _this2=this;this.on(_namespace2.default.Todo).listen(_events2.default.Todo.Updated(this.todo.id),function(event){return _this2.update(event.todo)}),this.ui("label").listen("dblclick",function(event){return _this2.setEditMode(!0)}),this.ui(".edit").listen("keyup",function(event){return _this2.onEditorKeyUp(event)},"blur",function(event){return _this2.cancelEditor()}),this.ui(".toggle").listen("click",function(event){return _this2.toggleState(event)}),this.ui(".destroy").listen("click",function(event){return _this2.destroy()})}},{key:"toggleState",value:function(event){this.todo.state=this.view.$.toggle.checked?_todo2.default.Completed:_todo2.default.Active,this.on(_namespace2.default.Todo).triggerSync(new _events2.default.Todo.Update(this.todo))}},{key:"setEditMode",value:function(editing){this.view.className=this.todo.state+" "+(editing?"editing":""),editing&&this.view.$.editor.focus()}},{key:"onEditorKeyUp",value:function(event){13==event.keyCode?(this.todo.title=this.view.$.editor.value,this.view.$.editor.value?this.on(_namespace2.default.Todo).triggerSync(new _events2.default.Todo.Update(this.todo)):this.destroy()):27==event.keyCode&&this.cancelEditor()}},{key:"cancelEditor",value:function(){this.setEditMode(!1),this.view.$.editor.value=this.todo.title}},{key:"update",value:function(todo){this.setEditMode(!1),this.view.apply(todo)}},{key:"destroy",value:function(){this.on(_namespace2.default.Todo).triggerSync(new _events2.default.Todo.Remove(this.todo))}}]),TodoItemComponent}();exports.default=TodoItemComponent},function(module,exports){module.exports='<todo>\n    <input var="toggle" class="toggle" type="checkbox"/>\n    <label var="label"></label>\n    <button var="destroy" class="destroy"></button>\n    <input var="editor" class="edit" type="text"/>\n</todo>\n'},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.default=function(view){return{title:[view.$.label,view.$.editor],state:function(_state,todo){view.className=_state,view.$.toggle.checked=todo.completed}}}},function(module,__webpack_exports__,__webpack_require__){"use strict";function updateElement(element,value){const setProperty=prop=>void 0!==element[prop]&&(element[prop]=value);setProperty("value")||setProperty("textContent")}function generateDOM(html){var parent=document.createElement("div");return parent.innerHTML=html,1==parent.childElementCount?parent.firstElementChild:parent}function clone(obj){if(obj instanceof Array)return obj.slice();const copied={};for(let key of Object.getOwnPropertyNames(obj))copied[key]="object"==typeof obj[key]?clone(obj[key]):obj[key];return copied}Object.defineProperty(__webpack_exports__,"__esModule",{value:!0});const PatchIt={};PatchIt.template=function(html,patch){return new PatchTemplate(html,patch)};class PatchTemplate{constructor(html,patch){this.html=this.processTemplate(html),this.patch=patch}render(state){const view=this.html.cloneNode(!0);PatchIt.assignVariables(view);const viewPatch=new ViewPatch(view,this.patch);return view.apply=(state=>viewPatch.apply(state)),state&&viewPatch.apply(state),view}processTemplate(html){return"string"==typeof html?generateDOM(html):html}}class ViewPatch{constructor(view,patch){this.view=view,this.patch=patch(view),this.state={},this.methodify()}apply(state){let changes=this.process(state);for(let key in changes){if(!this.patch[key])continue;let change=changes[key];this.patch[key](change,state)}}process(newState){const changes={},allKeys=new Set;Object.getOwnPropertyNames(this.state).concat(Object.getOwnPropertyNames(newState)).forEach(key=>{allKeys.add(key)});for(let key of allKeys)this.state[key]!=newState[key]&&(changes[key]=newState[key]);return this.state=clone(newState),changes}methodify(){for(let key of Object.getOwnPropertyNames(this.patch))if(this.patch[key]instanceof Array){const elements=this.patch[key];this.patch[key]=(value=>{for(let element of elements)updateElement(element,value)})}}}__webpack_exports__.default=PatchIt,PatchIt.assignVariables=(parentElement=>(parentElement.$||(parentElement.$={}),parentElement.attributes.var&&(parentElement.$[parentElement.attributes.var.value]=parentElement),parentElement.querySelectorAll("[var]").forEach(element=>{parentElement.$[element.attributes.var.value]=element}),parentElement))},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_fiber2=_interopRequireDefault(__webpack_require__(0)),_namespace2=_interopRequireDefault(__webpack_require__(1)),_events2=_interopRequireDefault(__webpack_require__(2)),NewTodoComponent=function(_Fiber$UIComponent){function NewTodoComponent(){return _classCallCheck(this,NewTodoComponent),_possibleConstructorReturn(this,(NewTodoComponent.__proto__||Object.getPrototypeOf(NewTodoComponent)).apply(this,arguments))}return _inherits(NewTodoComponent,_fiber2.default.UIComponent),_createClass(NewTodoComponent,[{key:"listen",value:function(){var _this2=this;this.ui(this.view).listen("keypress",function(event){return _this2.onKeyPress(event)})}},{key:"onKeyPress",value:function(event){13==(event.charCode||event.keyCode)&&this.view.value.length&&(this.on(_namespace2.default.Todo).triggerSync(new _events2.default.Todo.Add(this.view.value)),this.view.value="")}}]),NewTodoComponent}();exports.default=NewTodoComponent},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_fiber2=_interopRequireDefault(__webpack_require__(0)),_namespace2=_interopRequireDefault(__webpack_require__(1)),_events2=_interopRequireDefault(__webpack_require__(2)),TodoToolbarComponent=function(_Fiber$UIComponent){function TodoToolbarComponent(){return _classCallCheck(this,TodoToolbarComponent),_possibleConstructorReturn(this,(TodoToolbarComponent.__proto__||Object.getPrototypeOf(TodoToolbarComponent)).apply(this,arguments))}return _inherits(TodoToolbarComponent,_fiber2.default.UIComponent),_createClass(TodoToolbarComponent,[{key:"listen",value:function(){var _this2=this;this.on(_namespace2.default.Todo).listen(_events2.default.TodoList.ActiveCount,function(event){return _this2.refreshCounter(event.activeCount)}),this.ui("#filters").listen("click",function(event){return _this2.filterClick(event)}),this.counter=this.view.querySelector("#todo-count strong")}},{key:"filterClick",value:function(event){event.preventDefault();var state=event.target.id.substring(7);"all"==state&&(state=null),this.on(_namespace2.default.Todo).triggerSync(new _events2.default.TodoList.Request(state)),this.view.querySelector(".selected").className="",event.target.className="selected"}},{key:"refreshCounter",value:function(activeCount){this.counter.textContent=activeCount}}]),TodoToolbarComponent}();exports.default=TodoToolbarComponent}]);